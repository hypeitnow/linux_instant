var settings,historyDisabled=!1,historyOnOffInstalled=!1,laserExtensionId="ljbpakpmiimdmblcjjhhbfabbkmcgmdp";loadSavedSettings();
function loadSavedSettings(){window.localStorage.buttonSettings||(window.localStorage.buttonSettings=JSON.stringify({addToMnu:!1,openInNewTab:!0}));settings=JSON.parse(window.localStorage.buttonSettings);chrome.runtime.sendMessage(laserExtensionId,{getTargetData:!0},function(a){a?(historyDisabled=a.historyDisabled?!0:!1,historyOnOffInstalled=!0,updateHistoryState()):historyDisabled=historyOnOffInstalled=!1})}
function siteSettings(){var a=RegExp("^(?:f|ht)tp(?:s)?://([^/]+)","im"),b;chrome.tabs.getSelected(null,function(c){b=c.url;c=/^file:/.test(b)?b:b.match(a)[0]+"/*";c="chrome://settings/content/siteDetails?site="+encodeURIComponent(c);openLink(c)})}function updateHistoryState(){}
function historyOnOff(){historyOnOffInstalled?chrome.runtime.sendMessage(laserExtensionId,{switchState:!0},function(a){a?(historyDisabled=a.historyDisabled?!0:!1,historyOnOffInstalled=!0):historyDisabled=historyOnOffInstalled=!1;updateHistoryState();window.close()}):window.location.replace("/history.html")}
function openLink(a){settings.openInNewTab?chrome.tabs.create({url:a},function(b){window.close()}):chrome.tabs.query({currentWindow:!0,active:!0},function(b){chrome.tabs.update({url:a},function(c){window.close()})})}
window.onload=function(){loadSavedSettings();updateHistoryState();settings1={};window.localStorage.versionUpdated||(window.localStorage.versionUpdated=JSON.stringify({updated:!1}));settings1=JSON.parse(window.localStorage.versionUpdated);settings1.updated&&chrome.tabs.create({url:"https://singleclickapps.com/plugins-button/plugins-button-v6-0.html"},function(a){window.close()});window.localStorage.versionUpdated=JSON.stringify({updated:!1});document.getElementById("global").addEventListener("click",
function(){openLink("https://singleclickapps.com/plugins-button/flash/")});document.getElementById("components").addEventListener("click",function(){openLink("chrome://components")});document.getElementById("help").addEventListener("click",function(){openLink("https://singleclickapps.com/plugins-button/help.html")});document.getElementById("extensionshortcuts").addEventListener("click",function(){openLink("chrome://extensions/shortcuts")});document.getElementById("help-shortcuts").addEventListener("click",
function(){openLink("https://singleclickapps.com/plugins-button/shortcuts-help.html")});document.getElementById("settings").addEventListener("click",function(){openLink("/settings.html")});document.getElementById("help-extensions").addEventListener("click",function(){openLink("https://singleclickapps.com/plugins-button/extensions-help.html")});document.getElementById("per-site").addEventListener("click",function(){siteSettings()});document.getElementById("global-site").addEventListener("click",function(){openLink("chrome://settings/content")});
document.getElementById("plug").addEventListener("click",function(){openLink("https://singleclickapps.com/plugins-button/more-plugins.html")})};