!function FnBg(){var t=Okta.fn.bg={},n=Okta._okta,a=n.find,r=n.pick,i=n.each,u=Okta.fn.api.setSessionData,o=Okta.fn.storage.wrapVal,s=Okta.fn.storage.unwrapVal,c=n.isEmpty;t.findAuthSite=function(t,n){return t.get("AUTH_SITES").then(function(t){return a(t,function(t){return n.matches(t.authURL)})}).fail(function(t){return Log.warn(t),null})},t.getLastAuthTimestamp=function(t,n){return s(t.get("basicAuth-"+n))||0},t.setLastAuthTimestamp=function(t,n,a){var e=o(a);return t.set("basicAuth-"+n,e)},t.getBasicAuthCreds=function(a,t,e,r){return t.get("OKTA_DOMAIN").then(function(t){var n={type:"get",url:t+r,headers:{Accept:"application/json;charset=utf-8"}};return e&&u(s(e.get("SESSION_COOKIE")),n.headers),a.ajax(n)})},t.getPendingConsentAccount=function(t,n,a){if(t&&t.disablePluginAccountChooser)return"";var e=[];return i(n,function(t){t=r(t,"login","orgDomainUrl"),a&&t.orgDomainUrl===a.oktaDomain&&(t.orgDomainUrl=a.customDomain),c(t)||e.push(t)}),c(e)?"":JSON.stringify(e)}}();