Okta.RequestHeaders=function(e){var r={};var u=Okta.fn.url.isOktaEndUserHomeHref;var a=Okta._okta;var l=a.find;var n=Okta.fn.storage.syncStorageData;var i=Okta.fn.bg.getPendingConsentAccount;var d=Okta.fn.url.isCustomEndUserHomeHref;var v="X-Okta-User-Agent-Extended";var f="okta-browser-plugin/"+e;var c="X-Okta-User-Agent-Account-Data";var t="DOMAINS";var s=String.fromCharCode.apply(null,[79,75,84,65,95,65,67,67,79,85,78,84,95,87,72,73,84,69,95,76,73,83,84]);var o="DBG_PLUGIN_SETTINGS";var g={domains:{key:t,val:null},dbgPluginSettings:{key:o,val:null},allowListedAccounts:{key:s,val:null}};r.onBeforeSendHeaders=function(e){var r={requestHeaders:[]};if(e.requestHeaders){r.requestHeaders=e.requestHeaders}try{var a=g.domains.val;var n=false;var t=u&&u(e.url);if(!t&&d){if(a&&a.customDomain&&a.oktaDomain){n=d(e.url,a.customDomain)}}if(t||n){var s=l(r.requestHeaders,function(e){return e.name.toLowerCase()===v.toLowerCase()});var o=i?i(g.dbgPluginSettings.val,g.allowListedAccounts.val,n?a:null):"";if(s){s.value+=" "+f}else{r.requestHeaders.push({name:v,value:f});r.requestHeaders.push({name:c,value:o})}}}catch(e){Log.error("WebExtension::onBeforeSendHeaders Error: "+e.message)}return r};r.initialize=function(){n(g);var e={urls:["<all_urls>"]};chrome.webRequest.onBeforeSendHeaders.addListener(r.onBeforeSendHeaders,e,["requestHeaders","blocking"])};return r};