!function FnUrlIIFE(){var r=Okta.parseUri,t=Okta._okta,e=t.any,o=t.compose,a=t.contains,n=t.partial,i=t.each,s=t.find,u=t.reduce,c=t.isMatch,l=Okta.fn.other.string.endsWith,m=t.pick,h=Okta.fn.url={},f=["cloudareanet.com","clouditude.com","hioktane.com","lowoktane.com","openalloy.com","okta.com","okta1.com","okta-emea.com","oktapreview.com","perfcloud.org","primeapp.com","trexcloud.com","widerock.com","okta.ninja","okta.mil","okta-miltest.com","okta-gov.com"],p="-admin",k=["/app/UserHome","/app/Home","/enduser"],g=["/app/UserHome","/plugin/bookmark","/home/plugin","/enduser/app-settings"],P=[{path:"/oauth2/v1/authorize",queryKey:{client_id:Okta.Constants.AuthOptions.PLUGIN_CLIENT_ID}},{path:"/discovery/iframe.html"},{path:"/login/token/redirect"}],d=["www.okta.com","trust.okta.com","system.okta.com","static.okta.com","support.okta.com","developer.okta.com","login.okta.com","help.okta.com","trustro.okta.com","investor.okta.com","oanmanager.okta.com","oinmanager.okta.com","devforum.okta.com","store.okta.com","status.okta.com","survey.okta.com","infra.okta.com","workflow.okta.com","productfeedback.okta.com","productfeedbacksandbox.okta.com","regionalevents.okta.com","workflows.okta.com","ideas.okta.com","rewards.okta.com","pages.okta.com","sec.okta.com"],O=["/app/*/*/sso/saml*","/app/office365/*/*"],U=["/sso/wsfed/signout"];function v(r){var a=[];return i(f,function(t){var o=t+r;a.push("https://*."+o),Okta.Config.allowOktaHttp&&a.push("http://*."+o)}),a}h.isHomepageIframePath=function(o){return!!s(P,function(t){return h.isUrlPathStartsWith(o,t.path)&&(!t.queryKey||c(o.queryKey,t.queryKey))})},h.isUrlPathStartsWith=function(t,o){return t.path===o||0===t.path.indexOf(o+"/")},h.hrefToUrlParts=function(t){var o=r(t);return o.href=t,m(o,"anchor","path","port","host","protocol","href","queryKey")},h.locationToUrlParts=function(t){return{anchor:t.hash.replace("#",""),path:t.pathname,port:t.port,host:t.hostname,protocol:t.protocol.replace(":",""),href:t.href,queryKey:r(t.search).queryKey}},h.urlPartsToHref=function(t){return t.href},h.urlPartsToDomain=function(t){var o=t.protocol+"://"+t.host;return""!==t.port&&(o+=":"+t.port),o},h.urlPartsToDomainWithoutPort=function(t){return t.protocol+"://"+t.host},h.urlPartsToDomainAndPath=function(t){return h.urlPartsToDomain(t)+t.path},h.replaceUrlPartsPath=function(t,o){return h.hrefToUrlParts(h.urlPartsToDomain(t)+o)},h.removeTrailingSlash=function(t){if(t){var o=t.replace(/^\s+|\s+$/gm,"");return o=o.replace(/\/+$/,"")}},h.getOktaDomains=function(){return f},h.isOktaPage=function(t,o){var r,a;return!(!Okta.Config.allowOktaHttp&&"https"!==t.protocol)&&(!(o&&!h.isUrlPathStartsWith(t,o))&&(!((r=t.host.split(".")).length<2)&&(a=r[r.length-2]+"."+r[r.length-1],e(f,function(t){return t===a}))))},h.isOktaLoginAccounts=function(t){return h.isOktaPage(t)&&"login.okta.com"===t.host},h.isOktaHref=o(h.isOktaPage,h.hrefToUrlParts),h.isOktaAdminPage=function(t){var o=t.host.split(".");return h.isOktaPage(t)&&l(o[0],p)},h.isOktaEndUserHomePage=function(t){return h.isOktaHref(t.href)&&!h.isOktaAdminPage(t)&&h.isOktaEndUserHomePagePath(t)},h.isOktaEndUserHomePagePath=function(t){return!!s(k,n(h.isUrlPathStartsWith,t))},h.isOktaPluginHomePagePath=function(t){return!!s(g,n(h.isUrlPathStartsWith,t))},h.isOktaPluginHomePage=function(o){return!!s(g,function(t){return h.isOktaPage(o,t)})},h.isOktaEndUserHomeHref=o(h.isOktaEndUserHomePage,h.hrefToUrlParts),h.isCustomEndUserHomeHref=function(t,o){if(!t||!o)return!1;var r=h.hrefToUrlParts(t),a=h.hrefToUrlParts(o);return h.isOktaEndUserHomePagePath(r)&&r.protocol===a.protocol&&r.host===a.host&&r.port===a.port},h.normalizeOktaSubdomain=function(t){if(h.isOktaAdminPage(t)){var o=t.host.split(".");o[0]=o[0].substr(0,o[0].length-p.length),t.host=o.join(".")}return t},h.isOktaTrustedFQDN=function(t){return a(d,t.host)},h.matchesHref=function(t){var o=new Okta.Url(h.urlPartsToHref(t));return function(t){return o.matches(t)}},h.matchesDomains=function(t,o){return h.urlPartsToDomain(t)===h.urlPartsToDomain(o)},h.getOktaFederatedRequestMatchPatterns=function(){return u(O,function(t,o){return t.concat(v(o))},[])},h.isAllowedOktaRequestForAuthMonitoring=function(o){return!!o&&(!!h.isOktaPage(h.hrefToUrlParts(o))&&!s(U,function(t){return-1<o.indexOf(t)}))},h.getMonitoredSitesApiMatchPatterns=function(){return v("/api/plugin/2/sites*")},h.getAppInfoFromSiteUrl=function(t){var o=h.hrefToUrlParts(t).path.split("/");return"app"===o[1]&&o[2]&&o[3]?{appName:o[2],instanceId:o[3]}:null},h.getOktaDomainsRegexp=function(t){if(!t.length)return null;var o="^";return o+=Okta.Config.allowOktaHttp?"http[s]?":"https",o+="://[^/]+\\.(",i(t,function(t){o+=t.replace(".","\\.")+"|"}),o=o.slice(0,-1),o+=")(",i(k,function(t){o+=t+"|"}),o=o.slice(0,-1),o+=")"},h.getSubDomain=function(t){var o=t.lastIndexOf(".");if(o<=0)return null;--o;var r=t.lastIndexOf(".",o);return-1==r||r==o?null:t.substring(r+1)}}();