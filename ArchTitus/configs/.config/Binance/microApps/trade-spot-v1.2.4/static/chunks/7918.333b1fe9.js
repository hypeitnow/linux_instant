(self["webpackJsonp_trade-spot"]=self["webpackJsonp_trade-spot"]||[]).push([[7918],{ZYvm:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var n=a("5vwO"),o=a("/SIk"),i=a.n(o),s=a("NBfW"),r=a("vs24"),m=a("wgY5"),l=a.n(m),p=a("xRsZ"),x=a("8Qvr"),c=a("3k2H"),u=a("mE5e"),d=a("aL9W"),y=a("D57K"),v=a("cYbI");const h=[{min:0,max:20,step:1,rotation:0},{min:20,max:35,step:1,rotation:-45},{min:35,max:70,step:4,rotation:-45},{min:70,max:100,step:5,rotation:-45},{min:100,max:140,step:6,rotation:-45},{min:140,max:180,step:25,rotation:-45}],f=[{min:5,max:12,step:2,rotation:0},{min:12,max:24,step:2,rotation:-45},{min:24,max:35,step:3,rotation:-45},{min:35,max:48,step:4,rotation:-45},{min:48,max:60,step:5,rotation:-45},{min:60,max:80,step:6,rotation:-45},{min:80,max:100,step:7,rotation:-45},{min:100,max:112,step:8,rotation:-45},{min:112,max:122,step:9,rotation:-45},{min:122,max:132,step:10,rotation:-45},{min:132,max:142,step:11,rotation:-45},{min:142,max:152,step:12,rotation:-45},{min:152,max:162,step:13,rotation:-45},{min:162,max:180,step:13,rotation:0}];var g=a("ItBJ"),b=i().createElement;const k=[{key:"7",textKey:"Last7Days",value:[l()().subtract(7,"days"),l()()]},{key:"30",textKey:"Last30Days",value:[l()().subtract(30,"days"),l()()]}],w=({periods:e=k,curPeriod:t,onChange:a})=>{const{getI18n:n}=(0,p.KL)();return b(s.Z,{sx:{alignItems:"flex-end"}},e.map((({key:e,textKey:o,value:i})=>b(g.Z,{key:e,variant:"outline",mr:2,sx:{fontFamily:"IBM Plex Sans",borderRadius:"circle",fontSize:0,height:"22px",lineHeight:"22px",minHeight:"unset",padding:"0 10px",border:"1px solid",borderColor:t.key===e?"t.yellow200":"lines.border",boxShadow:a=>t.key===e?`inset 0 0 0 1px ${a.colors.primary}`:`inset 0 0 0 1px ${a.colors.bg}`},color:t.key===e?"t.yellow200":"t.primary",onClick:()=>a(e,i)},n(`leveragedTokens-${o}`)))))};var L=i().createElement;const D=(0,c.SA)((()=>Promise.all([a.e(2567),a.e(2639),a.e(8016),a.e(8601),a.e(4790),a.e(5789)]).then(a.bind(a,"UfxD"))),"csr"),M=({isMobile:e,tokenName:t,isLight:a})=>{const i=(0,o.useRef)({key:"",textKey:"",value:[]}),{getI18n:m}=(0,p.KL)(),{0:c,1:g}=(0,o.useState)(!1),{0:b,1:k}=(0,o.useState)({key:"7",value:[l()().subtract(7,"days"),l()()]}),{0:M,1:S}=(0,o.useState)([]),T=(0,o.useCallback)(((e,t)=>{c||e===i.current.key||k({key:e,value:t})}),[c]),Z=[],I=[];M.forEach((e=>{e[0]>=15927912e5&&(Z.push((0,d.B5)(e[0])),I.push(parseFloat(e[5])))}));const{step:K,rotation:C}=(({isMobile:e,categorieLen:t})=>{let a=h;e||(a=f);for(const n of a){const{min:e,max:a,step:o,rotation:i}=n;if(t>e&&t<=a)return{step:o,rotation:i}}return{step:1,rotation:0}})({isMobile:e,categorieLen:Z.length});(0,o.useEffect)((()=>{const{key:e,value:a}=b;i.current=(0,n.Z)({},b),(async()=>{g(!0);const n=await(o={symbol:t,limit:1e3,interval:"7"===e?"1h":"4h",startTime:a[0].valueOf(),endTime:a[1].valueOf()},(0,y.__awaiter)(void 0,void 0,void 0,(function(){var e,t,a,n,i;return(0,y.__generator)(this,(function(s){switch(s.label){case 0:e=o.symbol,t=o.interval,a=o.startTime,n=o.endTime,i=[],s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(0,v.U2)("/fapi/v1/lvtKlines?symbol="+e+"&interval="+t+"&startTime="+a+"&endTime="+n)];case 2:return i=s.sent(),[3,4];case 3:return s.sent(),[3,4];case 4:return[2,i]}}))})));var o;S(n),g(!1)})()}),[b,t]);const F=(0,o.useMemo)((()=>L(D,{categories:Z,seriesName:m("leveragedTokens-realLeverage"),seriesData:I,chartConf:{xStep:K,xRotation:C,xType:{type:"datetime"},isLight:a,xDateFormat:"%m-%d %H:%M",xFormatter:e=>(0,d.vs)(e,"MM-DD"),yFormatter:t=>(0,u.uf)(t,e?2:8),pointFormatter:e=>(0,u.uf)(e,8)}})),[Z,m,I,K,C,e,a]);return(0,o.useMemo)((()=>L(s.Z,{flexDirection:"column",sx:{my:["-24px",0],mx:["-24px",0],width:"100%"}},L(s.Z,{mt:["40px","0"],mb:["plus","sm"],ml:["16px","0"],sx:{alignItems:"center",justifyContent:e?"flex-start":"flex-end"}},L(w,{curPeriod:b,onChange:T})),L(r.Z,{width:e?"375px":"100%",height:230,sx:{"& > div":{width:e?"375px":"100%",height:"100%"}}},F),c&&L(x.Z,null))),[e,b,F,T,c])},S=i().memo(M)}}]);