(self.webpackJsonp_c2c=self.webpackJsonp_c2c||[]).push([[835],{j10P:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>De});var l=a("/SIk"),r=a.n(l),i=a("G6rc"),n=a("szIg"),o=a("Q755"),s=a("K2Jl"),c=a("7IDl"),d=a("03hH"),u=a("xjo1"),p=a("/ZSM"),m=a("5iDs"),f=a("BWwe"),h=a("krwy"),b=a("zknK"),x=a("HbpF"),y=a("hZi6"),v=a("biAd"),g=a("35b4"),C=a("CVOX"),Z=r().createElement;const k=({showAllFiat:e})=>{const{p2pTrade:t}=C.Z.site(),a=(0,c.tv)(),r=(0,n.useDispatch)(),{tradeType:i,asset:o,fiat:s,merchantCheck:d}=(0,n.useSelector)((e=>e.trade)),{assetList:u,isMobile:p,pageFiatConfig:m}=(0,n.useSelector)((e=>e.common)),f=(0,l.useCallback)((async e=>{await r.trade.getAdvListAsync({asset:e,fiat:s,page:1,publisherType:"CNY"!==s&&d?"merchant":null}),r.trade.update({asset:e,isOpring:!1,page:1,fiat:s}),a.push(`${t}/${i}/${e}`)}),[r.trade,i,s,d]),h=(0,l.useMemo)((()=>{var t;let a=[];if((null===m||void 0===m?void 0:m.length)>0)for(let e=0;e<m.length;e++)if(m[e].side===i.toUpperCase()){a=m[e].assets;break}return a=a.map((e=>e.asset)),!p&&!e&&(null===(t=a)||void 0===t?void 0:t.length)>10?a.slice(0,10):a}),[e,m,i,p]);return(0,l.useMemo)((()=>Z(b.Z,null,h.map(((e,t)=>Z(b.Z,{key:e+t,onClick:()=>{f(e)},sx:{float:"left",userSelect:"none",clear:p?"":t%10===0?"both":"",ml:[0,3,3],mr:["20px",3,3]}},Z(g.Z,{as:"h2",sx:{fontSize:"14px",fontWeight:400,textAlign:"center",height:["40px","56px"],lineHeight:["36px","58px"],color:o===e?"#F0B90B":"#212833",borderBottom:o===e?"2px solid #F0B90B":"",cursor:o===e?"default":"pointer"}},e)))))),[h,f,o])};var T=a("DRTp"),w=a("vnmy"),_=a("6X1q"),F=a("D57K"),S=a("3Xx7");const B=function(e){return r().createElement(S.Z,(0,F.__assign)({width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor"},e),r().createElement("path",{d:"M6 13V3H4v10h2zm6 0V3h-2v10h2z",fill:"#212833"}))};var L=a("oUxX"),A=a("R9ZS"),M=a("SJwT"),E=r().createElement;function D({list:e=[],visible:t,DrawerHandler:a,mainHandle:r}){const i=(0,l.useMemo)((()=>e.map(((e,t)=>E(b.Z,{key:t,tx:"trade",onClick:()=>{r&&r(e.value,e.label),a()},variant:"mrl_box"},e.label)))),[e,r,a]);return E(M.Z,{visible:t,DrawerHandler:a},E(x.Z,{tx:"trade",variant:"mobRightLink"},i))}const P=r().memo(D);var $=r().createElement;const U=({type:e})=>{const[t]=(0,h.$)(),a=(0,n.useDispatch)(),{0:i,1:o}=(0,l.useState)(null),{0:s,1:c}=(0,l.useState)(null),{0:d,1:u}=(0,l.useState)(!1),{isMobile:p}=(0,n.useSelector)((e=>e.common)),{isOpring:m}=(0,n.useSelector)((e=>e.trade)),f=(0,n.useSelector)((e=>e.loading.effects.trade.getAdvListAsync)),y=(0,l.useMemo)((()=>[{label:t("c2c-ui-trade-refresh-no"),value:0},{label:(0,A.TL)(t("c2c-ui-trade-refresh"),[5]),value:5},{label:(0,A.TL)(t("c2c-ui-trade-refresh"),[10]),value:10},{label:(0,A.TL)(t("c2c-ui-trade-refresh"),[20]),value:20}]),[t]),v=(0,l.useMemo)((()=>f?$(L.Z,{sx:{width:"14px",height:"14px"}}):$(_.Z,{size:14})),[f]),g=(0,l.useCallback)(((e,t)=>{o(e),c(t)}),[]),C=(0,l.useMemo)((()=>$(T.ZP,{trigger:"click",overlay:$(x.Z,{tx:"dropdownOverlay",variant:"whiteUl",sx:{flexDirection:"column",cursor:"pointer"}},y.map((({label:e,value:t})=>$(b.Z,{key:t,tx:"dropdownOverlay",variant:"whiteli",onClick:()=>g(t,e),__css:{"&:visited, &:active":{bg:"#F5F5F7"},"&:hover":{bg:"#F5F5F7"}}},e))))},$(x.Z,{alignItems:"center"},$(w.Z,{id:"C2CofferList_btn_refresh",variant:"outline",minWidth:"152px",display:["none","inline-flex"]},v,$(b.Z,{ml:1},s||t("c2c-ui-trade-refresh-settings")))))),[t,y,g,v,s]),Z=(0,l.useMemo)((()=>f?$(L.Z,{sx:{width:"22px",height:"22px",ml:3}}):$(_.Z,{size:24,ml:3,onClick:()=>{u(!0)},display:["inline","none"]})),[f]),k=(0,l.useMemo)((()=>p||"pc"!==e?Z:C),[p,C,Z]),F=(0,l.useMemo)((()=>p&&"mobile"===e?$(P,{list:y,visible:d,DrawerHandler:()=>{u(!1)},mainHandle:g}):null),[p,g,d,y]),S=(0,l.useCallback)((()=>a.trade.update({isOpring:!1})),[a.trade]),M=(0,l.useMemo)((()=>p||"pc"!==e?null:$(w.Z,{id:"C2CofferList_btn_refresh",variant:"outline",minWidth:"152px",display:["none","inline-flex"],onClick:S},$(B,{size:14}),$(b.Z,{ml:1},t("c2c-ui-trade-pause")))),[p,S,t]);return(0,l.useEffect)((()=>{const e=i?1e3*i:9999999999;i&&0!=i?a.trade.update({deleteLoading:!0}):a.trade.update({deleteLoading:!1});const t=setInterval((()=>{m||a.trade.getAdvListAsync()}),e);return()=>{clearInterval(t)}}),[i,a.trade,m]),$(r().Fragment,null,m?M:k,F)};var I=a("nAdt"),R=a("/0Yq"),H=a("7fF7"),z=r().createElement;const N=({filter:e})=>{const[t]=(0,h.$)(),a=(0,n.useDispatch)(),{pcPrice:r,fiat:i}=(0,n.useSelector)((e=>e.trade)),o=(0,A.VQ)(),s=(0,l.useCallback)((e=>{e?H.Z.pointNumber.test(e)&&a.trade.update({pcPrice:e}):a.trade.update({pcPrice:e})}),[a.trade]),c=(0,l.useCallback)((t=>{e({transAmount:t})}),[e]),d=(0,l.useMemo)((()=>z(x.Z,{tx:"trade",variant:"pcAmountQuickF"},[{id:"C2Csearchamount_dropdown_label100",val:100,name:100},{id:"C2Csearchamount_dropdown_label1k",val:1e3,name:1e3},{id:"C2Csearchamount_dropdown_label5k",val:5e3,name:5e3},{id:"C2Csearchamount_dropdown_label10k",val:1e4,name:"1\u4e07"},{id:"C2Csearchamount_dropdown_label1m",val:1e5,name:"10\u4e07"},{id:"C2Csearchamount_dropdown_label2m",val:2e5,name:"20\u4e07"}].map(((e,t)=>z(g.Z,{tx:"trade",variant:"pcAmountQuickT",key:t,onClick:()=>{s(e.val),c(e.val)}},e.name))))),[s,c]),u=z(R.Z,{labelFixed:!0,variant:"outline",autoComplete:"off",value:r,id:"C2Csearchamount_searchbox_amount",name:"transAmount",placeholder:"c2c-ui-trade-amount-pl"===t("c2c-ui-trade-amount-pl")?"":t("c2c-ui-trade-amount-pl"),boxProps:{width:"150px",sx:{borderTopLeftRadius:"4px",borderTopRightRadius:0,borderBottomLeftRadius:"4px",borderBottomRightRadius:0,":hover":{zIndex:1}}},onChange:e=>s(e.currentTarget.value),onKeyDown:e=>13===e.keyCode?c(r):null,suffix:z(x.Z,{alignItems:"center"},z(g.Z,{color:"#AEB4BC",mr:"8px"},i))}),p=z(w.Z,{id:"C2Csearchamount_btn_search",variant:"outline",colorStyle:"second",sx:{color:"#D0980B",mt:"4px",ml:"-1px",borderTopLeftRadius:0,borderTopRightRadius:"4px",borderBottomLeftRadius:0,borderBottomRightRadius:"4px",":hover":{zIndex:1}},onClick:()=>{c(r)}},t("c2c-user-trade-filter-search"));return z(b.Z,{px:"6px"},z(g.Z,{tx:"trade",variant:"filterTitle"},t("c2c-ui-trade-amount")),z(x.Z,{alignItems:"center"},"cn"!==o&&"zh-CN"!==o||"CNY"!==i?u:z(T.ZP,{trigger:"hover",overlay:d},u),p))},O=r().memo(N);var V=a("MmHg"),Y=a("2u5W"),W=a("mzVd"),q=a("xTvi"),Q=a("x5Ld"),K=a("PKgr"),G=r().createElement;const J=({filter:e})=>{const[t]=(0,h.$)(),a=(0,n.useDispatch)(),{loginStatus:r}=(0,d.Z)(),{fiat:i,tradeType:o,asset:s}=(0,n.useSelector)((e=>e.trade)),{fiatList:c}=(0,n.useSelector)((e=>e.common)),u=(0,l.useMemo)((()=>{let e=[];return c&&c.length&&(e=c.map((({currencyCode:e,iconUrl:t})=>({label:e,value:e,iconUrl:t}))),e.sort(((e,t)=>`${e.value}`.localeCompare(`${t.value}`)))),e}),[c]),p=(0,l.useCallback)((e=>{const t=u.find((t=>t.value===e));return t?G(x.Z,{alignItems:"center"},t.iconUrl?G(V.Z,{width:"14px",height:"14px",src:t.iconUrl,ml:"-4px",mr:"8px"}):null,G(g.Z,null,t.label)):null}),[u]),m=(0,l.useCallback)((async t=>{await(0,Q.setCookie)("common_fiat",t,0);const{tradeConfig:l,publisherType:r}=await a.common.postPageTradeConfig({param:{fiat:t},areaType:"P2P"}),{asset:i,tradeType:n}=(0,K.V)(l,o,s),c={fiat:t,tradeType:n,asset:i,merchantCheck:"merchant"===r,payTypes:[]};a.trade.update((0,I.Z)((0,I.Z)({},c),{},{paymethod:"all"})),e(c)}),[r,a.trade,a.common,o,s,e]),f=u.map(((e,t)=>G(Y.W,{key:t,value:e.value},G(x.Z,{alignItems:"center"},e.iconUrl?G(V.Z,{width:"14px",height:"14px",src:e.iconUrl,ml:"-4px",mr:"8px"}):null,G(g.Z,null,e.label)))));return G(b.Z,{px:"6px",sx:{whiteSpace:"nowrap"}},G(g.Z,{tx:"trade",variant:"filterTitle"},t("c2c-ui-fiat")),G(W.Z,{id:"C2Cfiatfilter_searhbox_fiat",searchPlaceholder:"",variant:"outline",width:"105px",value:i,onChange:m,renderValue:p,sx:{">div:first-of-type":{height:"32px"},".bn-sdd-value":{height:"32px",minHeight:"32px"},".css-1yfccoe":{display:"none"},".bn-sdd-dropdown .bn-input-prefix":{display:"none"}}},G(q.Y,null,f)))},X=r().memo(J);var j=a("SwxV");const ee=()=>{const[e]=(0,h.$)(),{fiatConfigMethods:t}=(0,n.useSelector)((e=>e.common)),{allMethodlist:a}=(0,l.useMemo)((()=>{let a=t.map((({identifier:e,tradeMethodName:t,tradeMethodBgColor:a})=>({label:t,value:e,bgColor:a})));return{allMethodlist:[{label:e("c2c-ui-trade-filter-allpay"),value:j.h,bgColor:"#F0B90B"},...a]}}),[e,t,j.h]);return{allMethodlist:a}};var te=r().createElement;const ae=({filter:e})=>{const[t]=(0,h.$)(),a=(0,n.useDispatch)(),{0:r,1:i}=(0,l.useState)(""),{paymethod:o}=(0,n.useSelector)((e=>e.trade)),{allMethodlist:s}=ee();(0,l.useEffect)((()=>{if(o)if("all"===o)i(t("c2c-ui-trade-filter-allpay"));else{var e;const t=null===(e=s.find((e=>e.value===o)))||void 0===e?void 0:e.label;i(t)}}),[s,o,t]);const c=(0,l.useCallback)((e=>{const t=s.find((t=>t.label===e));return t?te(x.Z,{alignItems:"center"},te(g.Z,null,t.label.length>18?`${t.label.slice(0,16)}...`:t.label)):null}),[s]),d=(0,l.useCallback)((l=>{if(l===t("c2c-ui-trade-filter-allpay"))a.trade.update({paymethod:"all"}),e({payTypes:[]});else{var r;const t=null===(r=s.find((e=>e.label===l)))||void 0===r?void 0:r.value;a.trade.update({paymethod:t}),e({payTypes:[t]})}}),[a.trade,s,e,t]),u=(0,l.useMemo)((()=>s&&(null===s||void 0===s?void 0:s.map(((e,t)=>{var a;return te(Y.W,{key:t,value:e.label,prefix:e.bgColor?te(b.Z,{tx:"trade",variant:"newPaymentImg",sx:{bg:e.bgColor}}):null,sx:{maxWidth:["280px","280px","300px"]}},(null===(a=e.label)||void 0===a?void 0:a.length)>30?`${e.label.slice(0,30)}...`:e.label)})))),[s]);return te(b.Z,{px:"6px",sx:{whiteSpace:"nowrap"}},te(g.Z,{tx:"trade",variant:"filterTitle"},t("c2c-ui-payment")),te(W.Z,{width:"170px",id:"C2Cpaymentfilter_searchbox_payment",placeholder:t("c2c-ui-payment"),onChange:e=>{d(e)},value:r,renderValue:c,filterFunction:(e,t)=>t.toUpperCase().includes(e.toUpperCase()),sx:{">div:first-of-type":{height:"32px"},".bn-sdd-value":{height:"32px",minHeight:"32px"},".bn-sdd-optionGroupLabel":{paddingTop:0,paddingBottom:0},".css-1yfccoe":{display:"none"}}},u))},le=r().memo(ae);var re=a("w/uV"),ie=a("911s"),ne=r().createElement;const oe=function({filter:e=(()=>{})}){const[t]=(0,h.$)(),a=(0,n.useDispatch)(),{merchantCheck:l}=(0,n.useSelector)((e=>e.trade));return ne(x.Z,{sx:{mt:["30px",0,0],ml:[0,"12px","16px"],mb:["30px","6px","6px"],alignItems:"center"}},ne(re.Z,{width:"auto"},ne(ie.Z,{id:"",name:"merchantCheck",onChange:t=>{a.trade.update({merchantCheck:t.target.checked}),e({publisherType:t.target.checked?"merchant":null})},checked:l}),ne(g.Z,{sx:{color:"#1E2329",fontSize:"14px"}},t("c2c-user-trade-only-show-merchant"))))};var se=r().createElement;const ce=()=>{const e=(0,n.useDispatch)(),{fiat:t,isOpring:a,merchantCheck:r}=(0,n.useSelector)((e=>e.trade)),i=(0,l.useCallback)((t=>{e.trade.updateFilter(t),e.trade.getAdvListAsync((0,I.Z)((0,I.Z)({},t),{},{publisherType:"merchant"})),e.trade.update({isOpring:!1})}),[e.trade]),o=(0,l.useCallback)((t=>{e.trade.updateFilter((0,I.Z)((0,I.Z)({},t),{},{publisherType:null})),e.trade.getAdvListAsync((0,I.Z)((0,I.Z)({},t),{},{publisherType:null})),e.trade.update({isOpring:!1})}),[e.trade]),s=(0,l.useCallback)((e=>{e.page=1,"CNY"!==t&&r?i(e):o(e)}),[i,o,e.trade,t,r]),c=(0,l.useCallback)((e=>{e.page=1,"CNY"!==e.fiat&&e.merchantCheck?i(e):o(e)}),[i,o]),d=(0,l.useCallback)((e=>{e.page=1,"merchant"===e.publisherType?i(e):o(e)}),[i,o]);return se(b.Z,{tx:"trade",variant:"pcfilterBox",sx:{pb:"6px"}},se(x.Z,{tx:"trade",variant:"pcfilterMain"},se(x.Z,{tx:"trade",variant:"pcfilterMain_left"},se(O,{filter:s}),se(X,{filter:c}),se(le,{filter:s}),"CNY"!==t?se(oe,{filter:d}):null),se(x.Z,{sx:{pt:"38px"}},se(U,{type:"pc"}))))},de=r().memo(ce);var ue=a("i9qg");const pe=function(e){return r().createElement(S.Z,(0,F.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),r().createElement("path",{d:"M12.24 9l4.24 4.24-1.42 1.41-2.82-2.82-2.82 2.82L8 13.24 12.24 9z",fill:"currentColor"}))};const me=function(e){return r().createElement(S.Z,(0,F.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),r().createElement("path",{d:"M12.24 14.65L8 10.41 9.42 9l2.82 2.82L15.06 9l1.42 1.41-4.24 4.24z",fill:"currentColor"}))};var fe=r().createElement;const he=function(){const e=(0,n.useDispatch)(),[t]=(0,h.$)(),{0:a,1:i}=(0,l.useState)(!0),{0:o,1:s}=(0,l.useState)(!0),c=(0,n.useSelector)((e=>e.common.fiatList)),d=(0,n.useSelector)((e=>e.trade.mobFiat)),u=(0,n.useSelector)((e=>e.trade.mobPayment)),p=H.Z.cnCode,{allMethodlist:m}=ee(),f=(0,l.useMemo)((()=>{let e=[];return c&&c.length&&(e=c.map((({currencyCode:e,currencySymbol:t})=>({label:e,value:e,icon:t}))),e.sort(((e,t)=>`${e.value}`.localeCompare(`${t.value}`)))),e}),[c]),y=(0,l.useCallback)((e=>e.match(p)?e.length>14?`${e.slice(0,12)}...`:e:e.length>28?`${e.slice(0,25)}...`:e),[p]);return fe(r().Fragment,null,fe(x.Z,{flexDirection:"column",mt:"36px"},fe(x.Z,{tx:"trade",variant:"mobFS_title_box"},fe(g.Z,{tx:"trade",variant:"mobFilter_selectTitle"},t("c2c-ui-payment")),fe(x.Z,{alignItems:"center",onClick:()=>{i(!a)}},fe(g.Z,{fontSize:"12px",color:"#F0B90B"},"ALL"),fe(g.Z,{fontSize:"12px",color:"#F0B90B",ml:"1px"},`(${m.length})`),fe(a?pe:me,{sx:{color:"#F0B90B"}}))),fe(x.Z,{tx:"myads",variant:"mf_filter_body",mt:"4px",id:"C2CofferListFilter_payment_dropdown"},m.map(((t,l)=>fe(x.Z,{key:l,tx:"myads",variant:u===t.value?"mffb_item_now":"mffb_item",mr:(l+1)%3===0?"0":"2%",sx:{display:a?"flex":l>5?"none":"flex"},onClick:()=>{e.trade.update({mobPayment:t.value})}},fe(g.Z,{tx:"myads",variant:"mffb_item_text",sx:{wordBreak:"break-all"}},y(t.label))))))),fe(x.Z,{flexDirection:"column",mt:"36px"},fe(x.Z,{tx:"trade",variant:"mobFS_title_box"},fe(g.Z,{tx:"trade",variant:"mobFilter_selectTitle"},t("c2c-ui-fiat")),fe(x.Z,{alignItems:"center",onClick:()=>{s(!o)}},fe(g.Z,{fontSize:"12px",color:"#F0B90B"},"ALL"),fe(g.Z,{fontSize:"12px",color:"#F0B90B",ml:"1px"},`(${f.length})`),fe(o?pe:me,{sx:{color:"#F0B90B"}}))),fe(x.Z,{tx:"myads",variant:"mf_filter_body",mt:"4px",id:"C2CofferListFilter_fiat_dropdown"},f.map(((t,a)=>fe(b.Z,{key:a,tx:"myads",variant:d===t.value?"mffb_item_now":"mffb_item",mr:(a+1)%3===0?"0":"2%",sx:{display:o?"flex":a>5?"none":"flex",justifyContent:"space-between"},onClick:()=>{e.trade.update({mobFiat:t.value,mobPayment:"all"})}},fe(g.Z,{ml:"10%"},t.label),fe(g.Z,null),fe(g.Z,{mr:"10%",color:"#76808F"},t.icon)))))))};var be=r().createElement;const xe=function({closeHandler:e,showMobFilter:t=!1}){const a=(0,n.useDispatch)(),[r]=(0,h.$)(),{defaultFiat:i}=(0,n.useSelector)((e=>e.common)),{loginStatus:o}=(0,d.Z)(),{filter:s,mobFiat:c,mobPrice:u,mobPayment:p,tradeType:m,asset:f,merchantCheck:b}=(0,n.useSelector)((e=>e.trade)),y=(0,l.useCallback)((()=>{a.trade.update({mobFiat:i,mobPrice:"",mobPayment:"all"})}),[i,a.trade]),v=(0,l.useCallback)((async()=>{await(0,Q.setCookie)("common_fiat",c,0),o&&a.trade.getOrderT1Tips({fiatUnit:c});const{tradeConfig:t}=await a.common.postPageTradeConfig({param:{fiat:c},areaType:"P2P"}),{asset:l,tradeType:r}=(0,K.V)(t,m,f);l||r?a.trade.getAdvListAsync({page:1,rows:10,fiat:c,transAmount:u,payTypes:"all"===p?void 0:[p],tradeType:r,asset:l,publisherType:"CNY"!==c&&b?"merchant":null}):a.trade.update({advList:[],advListTotal:0,mobRow:10}),a.trade.update({fiat:c,tradeType:r,asset:l,isOpring:!1,mobRow:10,filter:{page:1,rows:10,fiat:c,transAmount:u,payTypes:"all"===p?void 0:[p],tradeType:r,asset:l,publisherType:"CNY"!==c&&b?"merchant":null}}),e()}),[c,u,p,s,o,a.trade,a.common,e,m,f,b]),C=(0,l.useCallback)((e=>{e?H.Z.pointNumber.test(e)&&a.trade.update({mobPrice:e}):a.trade.update({mobPrice:e})}),[a.trade]);return be(ue.Z,{DrawerVisible:t,DrawerHandler:e,titleText:r("c2c-ui-pc-myposts-btn-filter"),CloseHandler:e,lBtnHandler:y,lBtnText:r("c2c-ui-pc-myposts-btn-reset"),rBtnHandler:v,rBtnText:r("c2c-ui-dialog-comfirm-cancel")},be(x.Z,{flexDirection:"column",mt:"24px"},be(g.Z,{tx:"trade",variant:"mobFilter_selectTitle",mb:"3px"},r("c2c-ui-trade-amount")),be(R.Z,{variant:"outlineLarge",labelFixed:!0,value:u,id:"C2CofferListFilter_amount_input",name:"transAmount",placeholder:"c2c-ui-trade-amount-pl"===r("c2c-ui-trade-amount-pl")?"":r("c2c-ui-trade-amount-pl"),suffix:c,onChange:e=>C(e.currentTarget.value)})),be(he,null),"CNY"!==c?be(oe,null):null)};var ye=r().createElement;const ve=function(){const{p2pTrade:e}=C.Z.site(),t=(0,c.tv)(),a=(0,n.useDispatch)(),{isMobile:r,pageFiatConfig:i}=(0,n.useSelector)((e=>e.common)),{tradeType:o,asset:s}=(0,n.useSelector)((e=>e.trade)),[d]=(0,h.$)(),u=(0,A.VQ)(),{data:p,buyButton:m,sellButton:f}=(0,l.useMemo)((()=>{let t=[],a=!1,l=!1;return 2===(null===i||void 0===i?void 0:i.length)?(a=!0,l=!0,t=[{key:"buy",id:"",title:d("c2c-ui-trade-header-buy"),link:`${e}/buy/${s}`},{key:"sell",id:"",title:d("c2c-ui-trade-header-sell"),link:`${e}/sell/${s}`}]):1===(null===i||void 0===i?void 0:i.length)&&(t="BUY"===i[0].side?[{key:"buy",id:"",title:d("c2c-ui-trade-header-buy"),link:`${e}/buy/${s}`}]:[{key:"sell",id:"",title:d("c2c-ui-trade-header-sell"),link:`${e}/sell/${s}`}],"BUY"===i[0].side?a=!0:l=!0),{data:[...t],buyButton:a,sellButton:l}}),[d,u,s,i]),y=(0,l.useCallback)((async(e,l)=>{e!==o&&(a.trade.getAdvListAsync({tradeType:e,page:1}),a.trade.update({tradeType:e,isOpring:!1,page:1}),t.push(l))}),[a,o]),v=(0,l.useMemo)((()=>{if(!r&&p)return p.map(((e,t)=>"buy"===e.key?ye(b.Z,{key:t,id:e.id,tx:"trade",variant:"tsm_button",sx:{bg:"buy"===o?"#02C076":"",color:"buy"===o?"#FFFFFF":"#1E2026",boxShadow:"buy"===o?"1px 0px 4px rgba(0, 0, 0, 0.25)":""},onClick:()=>y(e.key,e.link)},d("c2c-ui-tyle-buy")):"sell"===e.key?ye(b.Z,{key:t,id:e.id,tx:"trade",variant:"tsm_button",sx:{bg:"sell"===o?"#F84960":"",color:"sell"===o?"#FFFFFF":"#1E2026",boxShadow:"sell"===o?"1px 0px 4px rgba(0, 0, 0, 0.25)":""},onClick:()=>y(e.key,e.link)},d("c2c-ui-tyle-sell")):null))}),[r,p,o,d,y]);return ye(x.Z,{alignItems:"flex-start",sx:{pt:["13px","13px","13px"],pb:["10px",0,0],mr:"10px"}},!r&&ye(x.Z,{tx:"trade",variant:"tradeSwitchMain"},v),r&&ye(x.Z,{tx:"trade",variant:"tradeSwitchMainMob",sx:{alignItems:"center"}},m&&ye(g.Z,{tx:"trade",variant:"tsm_p",onClick:()=>y("buy",`/${u}/trade/buy/${s}`),sx:{color:"buy"===o?"#0B0E11":"#AEB4BC"}},d("c2c-ui-tyle-buy")),2===p.length&&ye(g.Z,{mx:"18px",color:"#EAECEF"},"|"),f&&ye(g.Z,{tx:"trade",variant:"tsm_p",onClick:()=>y("sell",`/${u}/trade/sell/${s}`),sx:{color:"sell"===o?"#0B0E11":"#AEB4BC"}},d("c2c-ui-tyle-sell"))))};var ge=r().createElement;const Ce=()=>{const{0:e,1:t}=(0,l.useState)(!1),{0:a,1:i}=(0,l.useState)(!1),[o]=(0,h.$)(),{tradeType:s}=(0,n.useSelector)((e=>e.trade)),{isMobile:c,pageFiatConfig:d}=(0,n.useSelector)((e=>e.common)),u=(0,l.useCallback)((()=>{t(!e)}),[e]),p=(0,l.useMemo)((()=>c?ge(xe,{showMobFilter:a,closeHandler:()=>{i(!1)}}):ge(de,null)),[c,i,a]),m=(0,l.useMemo)((()=>{var e;let t=[];if((null===d||void 0===d?void 0:d.length)>0)for(let a=0;a<d.length;a++)if(d[a].side===s.toUpperCase()){t=d[a].assets;break}return t=t.map((e=>e.asset)),(null===(e=t)||void 0===e?void 0:e.length)||0}),[s,d]);return ge(r().Fragment,null,ge(b.Z,{tx:"trade",variant:"filterBox"},ge(x.Z,{tx:"trade",variant:"filterFlex"},ge(x.Z,null,ge(ve,null),!c&&ge(x.Z,{alignItems:"stretch"},ge(k,{showAllFiat:e}),m>10&&ge(x.Z,{id:"C2CofferList_btn_morefilter",tx:"trade",variant:"moreButton",onClick:u},o("c2c-ui-trade-more"),ge(y.Z,{className:e?"active":"",sx:{transition:"transform .3s ease-in-out",ml:1,color:"t.third","&.active":{transform:"rotate(180deg)"}},size:16})))),c&&ge(x.Z,{sx:{alignItems:"start",pt:"12px"}},ge(U,{type:"mobile"}),ge(v.Z,{ml:"10px",size:24,onClick:()=>{i(!0)},display:["inline","none"]}))),c&&ge(x.Z,{tx:"trade",variant:"mobfilterFlex"},ge(k,null))),p)},Ze=r().memo(Ce);var ke=a("cstl"),Te=a("P+YH"),we=r().createElement;const _e=[{width:[260],key:"c2c-ui-trade-advertisers-day"},{width:[242],key:"c2c-ui-trade-price"},{width:[265],key:"c2c-ui-trade-require"},{width:[185],key:"c2c-ui-payment",display:["none","none","block"]},{width:[126],key:"c2c-ui-p2p-trade"}],Fe=()=>{const e=(0,n.useDispatch)(),{tradeType:t,isOpring:a,advList:r,advListTotal:i,filter:o,deleteLoading:s}=(0,n.useSelector)((e=>e.trade)),c=(0,n.useSelector)((e=>e.loading.effects.common.postPageTradeConfig)),d=(0,n.useSelector)((e=>e.loading.effects.trade.getAdvListAsync)),u=(0,l.useCallback)((()=>{e.trade.update({isOpring:!1})}),[e.trade]),p=(0,l.useCallback)((()=>{e.trade.update({isOpring:!0})}),[e.trade]),m=(0,l.useCallback)((()=>{e.trade.update({isOpring:!1}),e.trade.getAdvListAsync()}),[e.trade]),f=(0,l.useCallback)((t=>{document.querySelector("body").scrollTop=0,e.trade.update({page:t}),e.trade.getAdvListAsync({page:t})}),[e.trade]),h=(0,l.useCallback)((t=>{e.trade.getAdvListAsync({rows:t})}),[e.trade]);return we(b.Z,{tx:"container",variant:"box",sx:{position:"relative",bg:["white"]}},we(x.Z,{tx:"container",variant:"content",flexDirection:"column"},!c&&!d&&null!==r||s?we(Te.Z,{tradeType:t,isOpring:a,advList:r,columns:_e,advListTotal:i,filter:o,onCancel:u,onShow:p,onChangePage:f,onChangeRow:h,onRefresh:m}):we(ke.Z,null)))},Se=r().memo(Fe);var Be=a("Ne75"),Le=r().createElement;const Ae=["buy","sell"],Me=["USDT","BUSD","BTC","DAI","BNB","ETH","UAH","RUB","NGN","BIDR","DOGE","SLP"];function Ee(){const{metaData:e,configs:t}=(0,l.useContext)(Be.Il),{loginStatus:a}=(0,d.Z)(),r=(0,n.useDispatch)(),{isMobile:h}=(0,n.useSelector)((e=>e.common)),{fiat:b,mobFiat:x,tradeType:y,asset:v,merchantCheck:g}=(0,n.useSelector)((e=>e.trade)),{fiat:C,payment:Z}=(0,c.Hb)().query,k=(0,l.useCallback)((async(e,t)=>{const{tradeConfig:a,publisherType:l}=await r.common.postPageTradeConfig({param:{fiat:e},areaType:"P2P"}),{asset:i,tradeType:n}=(0,K.V)(a,y,v);r.common.update({defaultFiat:e}),r.trade.update({tradeType:n,asset:i,fiat:e,mobFiat:e,merchantCheck:"merchant"===l,paymethod:t||"all"}),r.trade.getAdvListAsync({tradeType:n,asset:i,fiat:e,publisherType:"CNY"!==e&&"merchant"===l?"merchant":null,payTypes:t?[t]:[]})}),[r.common,r.trade]);return(0,o.Z)((()=>{!async function(){var e,t;const a=await(0,Q.getCookie)("common_fiat");let l=null,i=[];C&&C!==a?({fiatList:i}=await r.common.getFiatListAsync()):r.common.getFiatListAsync();const n=(null===(e=i)||void 0===e||null===(t=e.filter((e=>e.currencyCode===C)))||void 0===t?void 0:t.length)>0;if(Z){let e=b;n&&(e=n),!n&&a&&a!==b&&(e=a);let{recommendMethods:t}=await r.common.postC2CRecommended({fiat:e});t.filter((e=>e.identifier===Z)).length>0&&(l=Z)}if(n)return k(C,l),void(await(0,Q.setCookie)("common_fiat",C,0));a&&a!==b?k(a,l):(l&&r.trade.update({paymethod:l}),r.trade.getAdvListAsync({tradeType:y,asset:v,fiat:h?x:b,publisherType:g&&"CNY"!==b?"merchant":null,payTypes:l?[l]:[]}))}()})),(0,l.useEffect)((()=>{a&&(r.common.getC2cUseInfoAsync(),r.common.getUserPayment(),r.common.getUserAsset(),r.common.postUserTotalBTC(),r.common.getUserMigrateQueryStatus())}),[r.common,a,r.trade]),(0,l.useEffect)((()=>{a&&b&&r.trade.getOrderT1Tips({fiatUnit:b})}),[b,a]),(0,l.useEffect)((()=>{b&&r.common.postC2CRecommended({fiat:b})}),[b]),(0,l.useEffect)((()=>{(0,s.ZP)("pageView",{elementID:"binance_c2c_visit_home_p2p",pageName:"binance_c2c"},{callback:e=>{},sensorsDisabled:!0})}),[]),Le(i.Z,{metaData:e,configs:t,bg:"bg"},Le(u.Z,{linkType:"trade"}),Le(Ze,null),Le(Se,null),Le(m.Z,null),Le(p.Z,{fiat:b}),Le(f.Z,{fiat:b}))}Ee.getInitialProps=async e=>{let{params:t,appContext:a}=e,{store:l}=a;const r=await(0,Q.getCookie)("common_fiat");let i="buy";null!==t&&void 0!==t&&t.type&&(Ae.includes(null===t||void 0===t?void 0:t.type)?i=t.type:a.notFound=!0);let n=null;null!==t&&void 0!==t&&t.asset&&(Me.includes(null===t||void 0===t?void 0:t.asset.toUpperCase())?n=null===t||void 0===t?void 0:t.asset.toUpperCase():a.notFound=!0);let o=n||"USDT";const{tradeConfig:s,defaultFait:c,publisherType:d}=await l.dispatch.common.postPageTradeConfig({param:{fiat:r},areaType:"P2P"});({asset:o,tradeType:i}=(0,K.V)(s,i,o)),l.dispatch.trade.update({tradeType:i,asset:o,fiat:c,mobFiat:c,merchantCheck:"merchant"===d}),l.dispatch.common.update({defaultFiat:c})};const De=Ee}}]);